{"version":3,"sources":["components/Person.js","components/Filter.js","components/New.js","services/persons.js","components/Notification.js","components/ErrorMessage.js","App.js","index.js"],"names":["Person","person","click","name","number","key","onClick","Filter","props","value","filter","onChange","onSubmit","addNewPerson","newName","handleNewNameChange","newNumber","handleNumberChange","type","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Notification","message","className","ErrorMessage","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","setMessage","errorMessage","setErrorMessage","useEffect","personService","initialNotes","arr","query","event","target","New","preventDefault","personObj","some","e","window","confirm","pers","find","n","newPers","setTimeout","returnedNote","concat","el","toLowerCase","indexOf","map","i","catch","error","deletePerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a37af028.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, click }) => {\r\n  return (\r\n    <div>\r\n    <p>{person.name} {person.number} \r\n    <button key={person.name + \"button\"} onClick={click} >delete</button></p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div>\r\n    Filter shown with <input value={props.filter} onChange={props.onChange} /> \r\n  </div>\r\n)\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst Person = (props) => {\r\n  return (\r\n    <form onSubmit={props.addNewPerson}>\r\n    <div>Name: <input value={props.newName} onChange={props.handleNewNameChange} /> </div>\r\n    <div>Number: <input value={props.newNumber} onChange={props.handleNumberChange} /> </div>\r\n    <button type=\"submit\">save</button>\r\n  </form>\r\n\r\n  )\r\n}\r\n\r\nexport default Person\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst del = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n\r\nexport default { getAll, create, del, update }\r\n","import React from 'react'\r\n\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"message\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  export default Notification","import React from 'react'\r\n\r\n\r\nconst ErrorMessage = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  export default ErrorMessage","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport New from './components/New'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport ErrorMessage from './components/ErrorMessage'\nimport './index.css'\n\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialNotes => {\n        setPersons(initialNotes)\n      })\n  }, [])\n\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    const personObj = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.some(e => e.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace old number with a new one?`)) {\n        const pers = persons.find(n => n.name === newName)\n        const newPers = { ...pers, number: newNumber }\n\n        personService\n          .update(pers.id, newPers)\n        setMessage(`number has been updated for ${newName} `)\n        setTimeout(function () { setMessage(null) }, 3000);\n\n      }\n      setNewNumber('')\n      setNewName('')\n\n    } else {\n      personService\n        .create(personObj)\n        .then(returnedNote => {\n          setPersons(persons.concat(returnedNote))\n          setNewNumber('')\n          setNewName('')\n        })\n      setMessage(`Added ${newName} `)\n      setTimeout(function () { setMessage(null) }, 3000);\n\n    }\n  }\n  const deletePerson = (person) => {\n    if (window.confirm(\"Delete \" + person.name + \"?\")) {\n      personService\n        .del(person.id)\n        .then(response => \n          setMessage(`Deleted ${person.name} `))\n        .catch(error => {\n          setErrorMessage(`${person.name} was already removed from server`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        })\n      setTimeout(function () { setMessage(null) }, 3000);\n    }\n  }\n  const handleNewNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n\n  }\n  const personsToShow = (arr, query) => {\n    return arr.filter(el => el.name.toLowerCase().indexOf(query.toLowerCase()) !== -1)\n  }\n\n\n\n  return (\n    <div>\n      <Notification message={message} />\n      <ErrorMessage message={errorMessage} />\n\n      <h2>Phonebook</h2>\n      <Filter filter={filter} onChange={handleFilterChange} />\n      <div>\n        <h2>Add new</h2>\n        <New addNewPerson={addNewPerson} newName={newName} handleNewNameChange={handleNewNameChange}\n          newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      </div>\n      <h2>Numbers</h2>\n      <div>\n        {personsToShow(persons, filter).map((person, i) =>\n          <div>\n            <Person key={person.name} person={person} click={() => deletePerson(person)} />\n          </div>\n        )}\n      </div>\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}